{"id":"9o10","dependencies":[{"name":"/Users/oluwa/dev/vcs/.babelrc","includedInParent":true,"mtime":1553381488107},{"name":"/Users/oluwa/dev/vcs/package.json","includedInParent":true,"mtime":1556957381123},{"name":"./mic.js","loc":{"line":1,"column":21},"parent":"/Users/oluwa/dev/vcs/src/client/audio_detector.js","resolved":"/Users/oluwa/dev/vcs/src/client/mic.js"},{"name":"./utils.js","loc":{"line":2,"column":22},"parent":"/Users/oluwa/dev/vcs/src/client/audio_detector.js","resolved":"/Users/oluwa/dev/vcs/src/client/utils.js"},{"name":"./tts.js","loc":{"line":3,"column":21},"parent":"/Users/oluwa/dev/vcs/src/client/audio_detector.js","resolved":"/Users/oluwa/dev/vcs/src/client/tts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.start=o;var e=i(require(\"./mic.js\")),r=i(require(\"./utils.js\")),t=i(require(\"./tts.js\"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(r,t,i):r[t]=e[t]}return r.default=e,r}let n=5;function o(i){var o=.001;e.connect(function(e){let s=r.rms(e);0!=o&&s/o>n&&!t.is_speaking()&&i(),o=s})}","map":{"mappings":[{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":0}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":13}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":20}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":35}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":43}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":56}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":57}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":64}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":68}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":76}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":82}},{"source":"audio_detector.js","original":{"line":1,"column":0},"generated":{"line":1,"column":84}},{"source":"audio_detector.js","original":{"line":1,"column":0},"generated":{"line":1,"column":88}},{"source":"audio_detector.js","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"audio_detector.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"audio_detector.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"audio_detector.js","original":{"line":2,"column":0},"generated":{"line":1,"column":113}},{"source":"audio_detector.js","original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"audio_detector.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"audio_detector.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"audio_detector.js","original":{"line":3,"column":0},"generated":{"line":1,"column":140}},{"source":"audio_detector.js","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"audio_detector.js","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"audio_detector.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":165}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":174}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":176}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":179}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":182}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":185}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":187}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":198}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":205}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":207}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":211}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":213}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":216}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":219}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":225}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":227}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":231}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":235}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":240}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":242}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":245}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":252}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":262}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":277}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":282}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":284}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":287}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":288}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":292}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":294}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":301}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":317}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":324}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":349}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":356}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":381}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":383}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":386}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":389}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":391}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":396}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":398}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":402}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":409}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":424}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":426}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":428}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":431}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":433}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":436}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":438}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":441}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":448}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":450}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":458}},{"source":"audio_detector.js","original":{"line":19,"column":1},"generated":{"line":1,"column":460}},{"source":"audio_detector.js","original":{"line":6,"column":0},"generated":{"line":1,"column":462}},{"source":"audio_detector.js","name":"event_thresh","original":{"line":6,"column":4},"generated":{"line":1,"column":466}},{"source":"audio_detector.js","original":{"line":6,"column":19},"generated":{"line":1,"column":468}},{"source":"audio_detector.js","original":{"line":9,"column":7},"generated":{"line":1,"column":470}},{"source":"audio_detector.js","name":"start","original":{"line":9,"column":16},"generated":{"line":1,"column":479}},{"source":"audio_detector.js","name":"cb","original":{"line":9,"column":22},"generated":{"line":1,"column":481}},{"source":"audio_detector.js","name":"last_rms","original":{"line":10,"column":8},"generated":{"line":1,"column":484}},{"source":"audio_detector.js","name":"last_rms","original":{"line":10,"column":8},"generated":{"line":1,"column":488}},{"source":"audio_detector.js","original":{"line":10,"column":19},"generated":{"line":1,"column":490}},{"source":"audio_detector.js","name":"mic","original":{"line":18,"column":4},"generated":{"line":1,"column":495}},{"source":"audio_detector.js","name":"connect","original":{"line":18,"column":8},"generated":{"line":1,"column":497}},{"source":"audio_detector.js","original":{"line":11,"column":12},"generated":{"line":1,"column":505}},{"source":"audio_detector.js","name":"buf","original":{"line":11,"column":21},"generated":{"line":1,"column":514}},{"source":"audio_detector.js","name":"rms","original":{"line":12,"column":5},"generated":{"line":1,"column":517}},{"source":"audio_detector.js","name":"rms","original":{"line":12,"column":5},"generated":{"line":1,"column":521}},{"source":"audio_detector.js","name":"util","original":{"line":12,"column":11},"generated":{"line":1,"column":523}},{"source":"audio_detector.js","name":"rms","original":{"line":12,"column":16},"generated":{"line":1,"column":525}},{"source":"audio_detector.js","name":"buf","original":{"line":12,"column":20},"generated":{"line":1,"column":529}},{"source":"audio_detector.js","original":{"line":13,"column":18},"generated":{"line":1,"column":532}},{"source":"audio_detector.js","name":"last_rms","original":{"line":13,"column":6},"generated":{"line":1,"column":535}},{"source":"audio_detector.js","name":"rms","original":{"line":13,"column":25},"generated":{"line":1,"column":538}},{"source":"audio_detector.js","name":"last_rms","original":{"line":13,"column":32},"generated":{"line":1,"column":540}},{"source":"audio_detector.js","name":"event_thresh","original":{"line":13,"column":45},"generated":{"line":1,"column":542}},{"source":"audio_detector.js","name":"tts","original":{"line":13,"column":62},"generated":{"line":1,"column":546}},{"source":"audio_detector.js","name":"is_speaking","original":{"line":13,"column":66},"generated":{"line":1,"column":548}},{"source":"audio_detector.js","name":"cb","original":{"line":14,"column":5},"generated":{"line":1,"column":563}},{"source":"audio_detector.js","name":"last_rms","original":{"line":16,"column":1},"generated":{"line":1,"column":567}},{"source":"audio_detector.js","name":"rms","original":{"line":16,"column":12},"generated":{"line":1,"column":569}}],"sources":{"audio_detector.js":"import * as mic from \"./mic.js\" \nimport * as util from \"./utils.js\" \nimport * as tts from \"./tts.js\"\n\n// params \nlet event_thresh = 5 //signal must double \n\n// -  \nexport function start(cb) { \n    var last_rms = 0.001 \n    let f = function(buf) { \n\tlet rms = util.rms(buf) \n\tif ( last_rms != 0 && ( rms  / last_rms ) > event_thresh && !tts.is_speaking() ) { \n\t    cb() \n\t}\n\tlast_rms = rms \n    }\n    mic.connect(f) \n}\n\n\n"},"lineCount":null}},"hash":"877ca3da630f54afe1e7bea647a3f3b1","cacheData":{"env":{}}}